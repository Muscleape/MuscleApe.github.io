<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hexo</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2017-01-20T07:43:59.655Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Muscleape</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Hexo-image</title>
    <link href="http://yoursite.com/2017/01/20/Hexo-image/"/>
    <id>http://yoursite.com/2017/01/20/Hexo-image/</id>
    <published>2017-01-20T06:56:08.000Z</published>
    <updated>2017-01-20T07:43:59.655Z</updated>
    
    <content type="html"><![CDATA[<p><excert in="" the="" index="" |="" 首页摘要=""><br>Hexo博客中图片处理插件，本地存放图片方案<br><a id="more"></a></excert></p>
<the rest="" of="" contents="" |="" 余下全文="">

<h3 id="插件名称及地址"><a href="#插件名称及地址" class="headerlink" title="插件名称及地址"></a>插件名称及地址</h3><blockquote>
<p>GitHub地址：<a href="https://github.com/CodeFalling/hexo-asset-image" title="hexo-asset-image" target="_blank" rel="external">hexo-asset-image</a></p>
</blockquote>
<h3 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install hexo-asset-image --save</div></pre></td></tr></table></figure>
<h3 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h3><p>_config.yml文件中设置配置节<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">post_asset_folder:true</div></pre></td></tr></table></figure></p>
<h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><p>新建博客，会生成一个md文件，一个博客同名的文件夹。结构如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">test</div><div class="line">├── apppicker.jpg</div><div class="line">├── logo.jpg</div><div class="line">└── rules.jpg</div><div class="line">test.md</div></pre></td></tr></table></figure></p>
<h3 id="博客中使用图片"><a href="#博客中使用图片" class="headerlink" title="博客中使用图片"></a>博客中使用图片</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">![logo](test/logo.jpg)</div></pre></td></tr></table></figure>
<p>其中<strong> [] </strong>里面不写文字则没有图片标题<br>生成的结构为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">public/2016/3/9/test</div><div class="line">├── apppicker.jpg</div><div class="line">├── index.html</div><div class="line">├── logo.jpg</div><div class="line">└── rules.jpg</div></pre></td></tr></table></figure></p>
<p>同时生成的html是<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;img src=&quot;/2017/1/20/test/logo.jpg&quot; alt=&quot;logo&quot;&gt;</div></pre></td></tr></table></figure></p>
<p>而不是<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;img src=&quot;test/logo.jpg&quot; alt=&quot;logo&quot;&gt;</div></pre></td></tr></table></figure></p>
<h3 id="注意，图片引用方式"><a href="#注意，图片引用方式" class="headerlink" title="注意，图片引用方式"></a>注意，图片引用方式</h3><p>通过常规的 markdown 语法和相对路径来引用图片和其它资源可能会导致它们在存档页或者主页上显示不正确。在Hexo2时代，社区创建了很多插件来解决这个问题。但是，随着Hexo3的发布，许多新的标签插件被加入到了核心代码中。这使得你可以更简单地在文章中引用你的资源。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&#123;% asset_path slug %&#125;</div><div class="line">&#123;% asset_img slug [title] %&#125;</div><div class="line">&#123;% asset_link slug [title] %&#125;</div></pre></td></tr></table></figure></p>
<p>比如：当开启了上述的文章资源文件夹功能后，把一个example.jpg图片放到资源文件夹中，如果通过使用相对路径的常规 markdown 语法 [](/example.jpg)，它将 不会 出现在首页上。（<strong> 但是它会在文章中按你期待的方式工作 </strong>）。<br>正确的引用图片方式是使用下列的标签插件而不是markdown。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;% asset_img example.jpg This is an example image %&#125;</div></pre></td></tr></table></figure></p>
<p><img src="/2017/01/20/Hexo-image/example.jpg" alt="Markdown语法添加图片"><br><img src="http://i.imgur.com/cyoZpdV.jpg" alt="MarkdownPad 2添加图片"><br><img src="/2017/01/20/Hexo-image/2017/01/20/Hexo-image/example.jpg" alt="资源插件添加图片" title="资源插件添加图片"></p>
</the>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;Excert in=&quot;&quot; the=&quot;&quot; index=&quot;&quot; |=&quot;&quot; 首页摘要=&quot;&quot;&gt;&lt;br&gt;Hexo博客中图片处理插件，本地存放图片方案&lt;br&gt;&lt;/Excert&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Hexo" scheme="http://yoursite.com/categories/Hexo/"/>
    
    
      <category term="hexo" scheme="http://yoursite.com/tags/hexo/"/>
    
      <category term="image" scheme="http://yoursite.com/tags/image/"/>
    
      <category term="图片" scheme="http://yoursite.com/tags/%E5%9B%BE%E7%89%87/"/>
    
      <category term="插件" scheme="http://yoursite.com/tags/%E6%8F%92%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>Linux-crontab</title>
    <link href="http://yoursite.com/2017/01/20/Linux-crontab/"/>
    <id>http://yoursite.com/2017/01/20/Linux-crontab/</id>
    <published>2017-01-20T06:54:44.000Z</published>
    <updated>2017-01-20T09:20:13.541Z</updated>
    
    <content type="html"><![CDATA[<p><excert in="" index="" |="" 首页摘要=""><br>Linux系统中的定时任务,类似windows下的计划任务<br><a id="more"></a></excert></p>
<the rest="" of="" contents="" |="" 余下全文="">

<blockquote>
<p>Linux系统中存在两种工作调度的方式</p>
<ul>
<li>周期性的（at），每隔一个固定的周期要来办的事项；</li>
<li>一次性的（crontab），做完一次以后就不会再执行；</li>
</ul>
</blockquote>
<h2 id="at"><a href="#at" class="headerlink" title="at"></a>at</h2><p>at是个可以处理仅执行一次就结束调度的指令，不过要执行at时，必须要有atd这个服务的支持才行。</p>
<h2 id="crontab"><a href="#crontab" class="headerlink" title="crontab"></a>crontab</h2><p>crontab这个指令所设置的工作会循环的一直执行下去。使用crond这个服务。</p>
<h2 id="crontab定时任务"><a href="#crontab定时任务" class="headerlink" title="crontab定时任务"></a>crontab定时任务</h2><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>crond是linux下用来周期性的执行某种任务或等待处理某些事件的一个守护进程，与windows下的计划任务类似，当安装完成操作系统后，默认会安装此服务工具，并且会自动启动crond进程，crond进程每分钟会定期检查是否有要执行的任务，如果有要执行的任务，则自动执行该任务。<br>通过crontab命令，我们可以在固定的间隔时间执行指定的系统指令或shell script脚本。时间间隔的单位可以是分钟、小时、日、月、周及以上的任意组合。这个命令非常适合周期性的日志分析或数据备份等工作。</p>
<h3 id="命令格式"><a href="#命令格式" class="headerlink" title="命令格式"></a>命令格式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">crontab [-u user] file crontab [-u user] [ -e | -l | -r ]</div></pre></td></tr></table></figure>
<h3 id="命令参数"><a href="#命令参数" class="headerlink" title="命令参数"></a>命令参数</h3><ul>
<li>-u user:用来设定某个用户的crontab服务；</li>
<li>file：file是命令文件的名字,表示将file做为crontab的任务列表文件并载入crontab。如果在命令行中没有指定这个文件，crontab命令将接受标准输入（键盘）上键入的命令，并将它们载入crontab;</li>
<li>-e：编辑某个用户的crontab文件内容。如果不指定用户，则表示编辑当前用户的crontab文件;</li>
<li>-l：显示某个用户的crontab文件内容，如果不指定用户，则表示显示当前用户的crontab文件内容;</li>
<li>-r：从/var/spool/cron目录中删除某个用户的crontab文件，如果不指定用户，则默认删除当前用户的crontab文件;</li>
<li>-i：在删除用户的crontab文件时给确认提示;</li>
</ul>
<h3 id="crontab的文件格式"><a href="#crontab的文件格式" class="headerlink" title="crontab的文件格式"></a>crontab的文件格式</h3><p><strong> 分    时    日    月    星期    要运行的命令 </strong></p>
<ul>
<li>第1列分钟0~59</li>
<li>第2列小时0~23（0表示凌晨12点）</li>
<li>第3列日1~31</li>
<li>第4列月1~12</li>
<li>第5列星期0~7（0和7都表示星期天）</li>
<li>第6列要运行的命令</li>
</ul>
<p><strong> 在以上各个字段中可以使用以下特殊字符 </strong></p>
<ul>
<li>星号（*）：代表所有可能的值，例如month字段如果是星号，则表示在满足其它字段的制约条件后每月都执行该命令操作；</li>
<li>逗号（,）：可以用逗号隔开的值指定一个列表范围，例如，“1,2,5,7,8,9”；</li>
<li>中杠（-）：可以用整数之间的中杠表示一个整数范围，例如“2-6”表示“2,3,4,5,6”</li>
<li>正斜线（/）：可以用正斜线指定时间的间隔频率，例如“0-23/2”表示每两小时执行一次。同时正斜线可以和星号一起使用，例如*/10，如果用在minute字段，表示每十分钟执行一次；</li>
</ul>
<h3 id="常用方法"><a href="#常用方法" class="headerlink" title="常用方法"></a>常用方法</h3><h4 id="创建一个新的crontab文件"><a href="#创建一个新的crontab文件" class="headerlink" title="创建一个新的crontab文件"></a>创建一个新的crontab文件</h4><p>向cron进程提交一个crontab文件之前，首先要设置环境变量EDITOR。cron进程根据它来确定使用哪个编辑器编辑crontab文件。9 9 %的UNIX和LINUX用户都使用vi，如果你也是这样，那么你就编辑$HOME目录下的. profile文件，在其中加入这样一行:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">EDITOR=vi; export EDITOR</div></pre></td></tr></table></figure></p>
<p>然后保存并退出。不妨创建一个名为<user> cron的文件，其中<user>是用户名，例如， davecron。在该文件中加入如下的内容：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"># (put your own initials here)echo the date to the console every</div><div class="line"># 15minutes between 6pm and 6am</div><div class="line">0,15,30,45 18-06 * * * /bin/echo &apos;date&apos; &gt; /dev/console</div></pre></td></tr></table></figure></user></user></p>
<p>在上面的例子中，系统将每隔1 5分钟向控制台输出一次当前时间。如果系统崩溃或挂起，从最后所显示的时间就可以一眼看出系统是什么时间停止工作的。在有些系统中，用tty1来表示控制台，可以根据实际情况对上面的例子进行相应的修改。为了提交你刚刚创建的crontab文件，可以把这个新创建的文件作为cron命令的参数:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ crontab davecron</div></pre></td></tr></table></figure></p>
<p>现在该文件已经提交给cron进程，它将每隔1 5分钟运行一次。同时，新创建文件的一个副本已经被放在/var/spool/cron目录中，文件名就是用户名(即dave)。</p>
<h4 id="列出crontab文件"><a href="#列出crontab文件" class="headerlink" title="列出crontab文件"></a>列出crontab文件</h4><p>使用 -l 参数列出crontab文件：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ crontab -l</div><div class="line">0,15,30,45 18-06 * * * /bin/echo `date` &gt; dev/tty1</div></pre></td></tr></table></figure></p>
<p>可以使用这种方法在$HOME目录中对crontab文件做一备份:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ crontab -l &gt; $HOME/mycron</div></pre></td></tr></table></figure></p>
<p>这样，一旦不小心误删了crontab文件，可以用上一节所讲述的方法迅速恢复。</p>
<h4 id="编辑crontab文件"><a href="#编辑crontab文件" class="headerlink" title="编辑crontab文件"></a>编辑crontab文件</h4><p>如果希望添加、删除或编辑crontab文件中的条目，而EDITOR环境变量又设置为vi，那么就可以用vi来编辑crontab文件:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ crontab -e</div></pre></td></tr></table></figure></p>
<p>可以像使用vi编辑其他任何文件那样修改crontab文件并退出。如果修改了某些条目或添加了新的条目，那么在保存该文件时， cron会对其进行必要的完整性检查。如果其中的某个域出现了超出允许范围的值，它会提示你。 我们在编辑crontab文件时，没准会加入新的条目。例如，加入下面的一条：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"># DT:delete core files,at 3.30am on 1,7,14,21,26,26 days of each month</div><div class="line">30 3 1,7,14,21,26 * * /bin/find -name &apos;core&apos; -exec rm &#123;&#125; \;</div></pre></td></tr></table></figure></p>
<blockquote>
<p>注解：<br>最好在crontab文件的每一个条目之上加入一条注释，这样就可以知道它的功能、运行时间，更为重要的是，知道这是哪位用户的定时作业。</p>
</blockquote>
<h4 id="删除crontab文件"><a href="#删除crontab文件" class="headerlink" title="删除crontab文件"></a>删除crontab文件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$crontab -r</div></pre></td></tr></table></figure>
<h3 id="使用示例"><a href="#使用示例" class="headerlink" title="使用示例"></a>使用示例</h3><h4 id="示例1：每1分钟执行一次myCommand"><a href="#示例1：每1分钟执行一次myCommand" class="headerlink" title="示例1：每1分钟执行一次myCommand"></a>示例1：每1分钟执行一次myCommand</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">* * * * * myCommand</div></pre></td></tr></table></figure>
<h4 id="示例2：每小时的第3和第15分钟执行"><a href="#示例2：每小时的第3和第15分钟执行" class="headerlink" title="示例2：每小时的第3和第15分钟执行"></a>示例2：每小时的第3和第15分钟执行</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">3,15 * * * * myCommand</div></pre></td></tr></table></figure>
<h4 id="示例3：在上午8点到11点的第3和第15分钟执行"><a href="#示例3：在上午8点到11点的第3和第15分钟执行" class="headerlink" title="示例3：在上午8点到11点的第3和第15分钟执行"></a>示例3：在上午8点到11点的第3和第15分钟执行</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">3,15 8-11 * * * myCommand</div></pre></td></tr></table></figure>
<h4 id="示例4：每隔两天的上午8点到11点的第3和第15分钟执行"><a href="#示例4：每隔两天的上午8点到11点的第3和第15分钟执行" class="headerlink" title="示例4：每隔两天的上午8点到11点的第3和第15分钟执行"></a>示例4：每隔两天的上午8点到11点的第3和第15分钟执行</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">3,15 8-11 */2  *  * myCommand</div></pre></td></tr></table></figure>
<h4 id="示例5：每周一上午8点到11点的第3和第15分钟执行"><a href="#示例5：每周一上午8点到11点的第3和第15分钟执行" class="headerlink" title="示例5：每周一上午8点到11点的第3和第15分钟执行"></a>示例5：每周一上午8点到11点的第3和第15分钟执行</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">3,15 8-11 * * 1 myCommand</div></pre></td></tr></table></figure>
<h4 id="示例6：每晚的21-30重启smb"><a href="#示例6：每晚的21-30重启smb" class="headerlink" title="示例6：每晚的21:30重启smb"></a>示例6：每晚的21:30重启smb</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">30 21 * * * /etc/init.d/smb restart</div></pre></td></tr></table></figure>
<h4 id="示例7：每月1、10、22日的4-45重启smb"><a href="#示例7：每月1、10、22日的4-45重启smb" class="headerlink" title="示例7：每月1、10、22日的4 : 45重启smb"></a>示例7：每月1、10、22日的4 : 45重启smb</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">45 4 1,10,22 * * /etc/init.d/smb restart</div></pre></td></tr></table></figure>
<h4 id="示例8：每周六、周日的1-10重启smb"><a href="#示例8：每周六、周日的1-10重启smb" class="headerlink" title="示例8：每周六、周日的1 : 10重启smb"></a>示例8：每周六、周日的1 : 10重启smb</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">10 1 * * 6,0 /etc/init.d/smb restart</div></pre></td></tr></table></figure>
<h4 id="示例9：每天18-00至23-00之间每隔30分钟重启smb"><a href="#示例9：每天18-00至23-00之间每隔30分钟重启smb" class="headerlink" title="示例9：每天18 : 00至23 : 00之间每隔30分钟重启smb"></a>示例9：每天18 : 00至23 : 00之间每隔30分钟重启smb</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">0,30 18-23 * * * /etc/init.d/smb restart</div></pre></td></tr></table></figure>
<h4 id="示例10：每星期六的晚上11-00-pm重启smb"><a href="#示例10：每星期六的晚上11-00-pm重启smb" class="headerlink" title="示例10：每星期六的晚上11 : 00 pm重启smb"></a>示例10：每星期六的晚上11 : 00 pm重启smb</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">0 23 * * 6 /etc/init.d/smb restart</div></pre></td></tr></table></figure>
<h4 id="示例11：每一小时重启smb"><a href="#示例11：每一小时重启smb" class="headerlink" title="示例11：每一小时重启smb"></a>示例11：每一小时重启smb</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">* */1 * * * /etc/init.d/smb restart</div></pre></td></tr></table></figure>
<h4 id="示例12：晚上11点到早上7点之间，每隔一小时重启smb"><a href="#示例12：晚上11点到早上7点之间，每隔一小时重启smb" class="headerlink" title="示例12：晚上11点到早上7点之间，每隔一小时重启smb"></a>示例12：晚上11点到早上7点之间，每隔一小时重启smb</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">0 23-7 * * * /etc/init.d/smb restart</div></pre></td></tr></table></figure>
<h3 id="使用注意事项"><a href="#使用注意事项" class="headerlink" title="使用注意事项"></a>使用注意事项</h3><h4 id="注意环境变量问题"><a href="#注意环境变量问题" class="headerlink" title="注意环境变量问题"></a>注意环境变量问题</h4><p>　　有时我们创建了一个crontab，但是这个任务却无法自动执行，而手动执行这个任务却没有问题，这种情况一般是由于在crontab文件中没有配置环境变量引起的。</p>
<p>　　在crontab文件中定义多个调度任务时，需要特别注环境变量的设置，因为我们手动执行某个任务时，是在当前shell环境下进行的，程序当然能找到环境变量，而系统自动执行任务调度时，是不会加载任何环境变量的，因此，就需要在crontab文件中指定任务运行所需的所有环境变量，这样，系统执行任务调度时就没有问题了。</p>
<p>　　<strong> 不要假定cron知道所需要的特殊环境，它其实并不知道。所以你要保证在shelll脚本中提供所有必要的路径和环境变量，除了一些自动设置的全局变量。所以注意如下3点： </strong></p>
<blockquote>
<p>1.脚本中涉及文件路径时写全局路径；<br>2.脚本执行要用到java或其他环境变量时，通过source命令引入环境变量，如:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"># cat start_cbp.sh</div><div class="line">!/bin/sh</div><div class="line">source /etc/profile</div><div class="line">export RUN_CONF=/home/d139/conf/platform/cbp/cbp_jboss.conf</div><div class="line">/usr/local/jboss-4.0.5/bin/run.sh -c mev &amp;</div></pre></td></tr></table></figure></p>
<p>3.当手动执行脚本OK，但是crontab死活不执行时,很可能是环境变量惹的祸，可尝试在crontab中直接引入环境变量解决问题。如:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">0 * * * * . /etc/profile;/bin/sh /var/www/java/audit_no_count/bin/restart_audit.sh</div></pre></td></tr></table></figure></p>
</blockquote>
<h4 id="注意清理系统用户的邮件日志"><a href="#注意清理系统用户的邮件日志" class="headerlink" title="** 注意清理系统用户的邮件日志"></a>** 注意清理系统用户的邮件日志</h4><p>　　每条任务调度执行完毕，系统都会将任务输出信息通过电子邮件的形式发送给当前系统用户，这样日积月累，日志信息会非常大，可能会影响系统的正常运行，因此，将每条任务进行重定向处理非常重要。 例如，可以在crontab文件中设置如下形式，忽略日志输出:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">0 */3 * * * /usr/local/apache2/apachectl restart &gt;/dev/null 2&gt;&amp;1</div></pre></td></tr></table></figure></p>
<blockquote>
<p>“/dev/null 2&gt;&amp;1”表示先将标准输出重定向到/dev/null，然后将标准错误重定向到标准输出，由于标准输出已经重定向到了/dev/null，因此标准错误也会重定向到/dev/null，这样日志输出问题就解决了。</p>
</blockquote>
<h4 id="系统级任务调度与用户级任务调度"><a href="#系统级任务调度与用户级任务调度" class="headerlink" title="系统级任务调度与用户级任务调度"></a>系统级任务调度与用户级任务调度</h4><p>　　系统级任务调度主要完成系统的一些维护操作，用户级任务调度主要完成用户自定义的一些任务，可以将用户级任务调度放到系统级任务调度来完成（不建议这么做），但是反过来却不行，root用户的任务调度操作可以通过”crontab –uroot –e”来设置，也可以将调度任务直接写入/etc/crontab文件，需要注意的是，如果要定义一个定时重启系统的任务，就必须将任务放到/etc/crontab文件，即使在root用户下创建一个定时重启系统的任务也是无效的。</p>
<h4 id="其他注意事项"><a href="#其他注意事项" class="headerlink" title="其他注意事项"></a>其他注意事项</h4><p>1.新创建的cron job，不会马上执行，至少要过2分钟才执行。如果重启cron则马上执行。<br>2.当crontab失效时，可以尝试/etc/init.d/crond restart解决问题。或者查看日志看某个job有没有执行/报错tail -f /var/log/cron。<br>3.千万别乱运行crontab -r。它从Crontab目录（/var/spool/cron）中删除用户的Crontab文件。删除了该用户的所有crontab都没了。<br>4.在crontab中%是有特殊含义的，表示换行的意思。如果要用的话必须进行转义\%，如经常用的date ‘+%Y%m%d’在crontab里是不会执行的，应该换成date ‘+\%Y\%m\%d’。<br>5.更新系统时间时区后需要重启cron。</p>
<h3 id="crond服务"><a href="#crond服务" class="headerlink" title="crond服务"></a>crond服务</h3><h4 id="安装crontab："><a href="#安装crontab：" class="headerlink" title="安装crontab："></a>安装crontab：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum install crontabs</div></pre></td></tr></table></figure>
<h4 id="服务操作说明："><a href="#服务操作说明：" class="headerlink" title="服务操作说明："></a>服务操作说明：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">/sbin/service crond start //启动服务</div><div class="line">/sbin/service crond stop //关闭服务</div><div class="line">/sbin/service crond restart //重启服务</div><div class="line">/sbin/service crond reload //重新载入配置</div></pre></td></tr></table></figure>
<h4 id="查看crontab服务状态："><a href="#查看crontab服务状态：" class="headerlink" title="查看crontab服务状态："></a>查看crontab服务状态：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">service crond status</div></pre></td></tr></table></figure>
<h4 id="手动启动crontab服务："><a href="#手动启动crontab服务：" class="headerlink" title="手动启动crontab服务："></a>手动启动crontab服务：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">service crond start</div></pre></td></tr></table></figure>
<h4 id="查看crontab服务是否已设置为开机启动，执行命令："><a href="#查看crontab服务是否已设置为开机启动，执行命令：" class="headerlink" title="查看crontab服务是否已设置为开机启动，执行命令："></a>查看crontab服务是否已设置为开机启动，执行命令：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ntsysv</div></pre></td></tr></table></figure>
<h4 id="加入开机自动启动："><a href="#加入开机自动启动：" class="headerlink" title="加入开机自动启动："></a>加入开机自动启动：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">chkconfig –level 35 crond on</div></pre></td></tr></table></figure>
</the>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;Excert in=&quot;&quot; index=&quot;&quot; |=&quot;&quot; 首页摘要=&quot;&quot;&gt;&lt;br&gt;Linux系统中的定时任务,类似windows下的计划任务&lt;br&gt;&lt;/Excert&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Linux" scheme="http://yoursite.com/categories/Linux/"/>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
      <category term="crontab" scheme="http://yoursite.com/tags/crontab/"/>
    
      <category term="定时任务" scheme="http://yoursite.com/tags/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/"/>
    
      <category term="计划任务" scheme="http://yoursite.com/tags/%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1/"/>
    
  </entry>
  
  <entry>
    <title>System-V</title>
    <link href="http://yoursite.com/2017/01/20/System-V/"/>
    <id>http://yoursite.com/2017/01/20/System-V/</id>
    <published>2017-01-20T02:02:37.000Z</published>
    <updated>2017-01-20T02:56:26.407Z</updated>
    
    <content type="html"><![CDATA[<p><excert in="" index="" |="" 首页摘要=""><br>Linux启动模式System V介绍</excert></p>
<ul>
<li><a id="more"></a>
<the rest="" of="" contents="">

</the></li>
</ul>
<p>System V启动方式，是Linux采用的启动方式，System V能够为不同的运行级别定义启动那些服务.<br>进入Linux系统后看到的黑乎乎的界面（开发模式），因为系统如果启动选择开发模式，<strong> 能减少启动时间，优化内存等 </strong>。但是通常刚安装完的Linux系统，看到的是图形化界面。</p>
<blockquote>
<p>CentOS下切换到开发模式，使用快捷键 Ctrl+F2,从开发模式返回图形界面使用Ctrl+F1<br>命令行里输入命令startx命令切换到图形界面</p>
</blockquote>
<h3 id="系统启动模式配置文件"><a href="#系统启动模式配置文件" class="headerlink" title="系统启动模式配置文件"></a>系统启动模式配置文件</h3><h4 id="etc-inittab"><a href="#etc-inittab" class="headerlink" title="/etc/inittab"></a>/etc/inittab</h4><p><strong> 设置系统启动模式，必须使用root身份登录才能修改 </strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@admin ~]:# vi /etc/inittab</div></pre></td></tr></table></figure></p>
<p>输入后打开inittab文件，看到配置信息如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">\# inittab is only used by upstart for the default runlevel.</div><div class="line">\#</div><div class="line">\# ADDING OTHER CONFIGURATION HERE WILL HAVE NO EFFECT ON YOUR SYSTEM.</div><div class="line">\#</div><div class="line">\# System initialization is started by /etc/init/rcS.conf</div><div class="line">\#</div><div class="line">\# Individual runlevels are started by /etc/init/rc.conf</div><div class="line">\#</div><div class="line">\# Ctrl-Alt-Delete is handled by /etc/init/control-alt-delete.conf</div><div class="line">\#</div><div class="line">\# Terminal gettys are handled by /etc/init/tty.conf and /etc/init/serial.conf,</div><div class="line">\# with configuration in /etc/sysconfig/init.</div><div class="line">\#</div><div class="line">\# For information on how to write upstart event handlers, or how</div><div class="line">\# upstart works, see init(5), init(8), and initctl(8).</div><div class="line">\#</div><div class="line">\# Default runlevel. The runlevels used are:</div><div class="line">\#   0 - halt (Do NOT set initdefault to this)</div><div class="line">\#   1 - Single user mode</div><div class="line">\#   2 - Multiuser, without NFS (The same as 3, if you do not have networking)</div><div class="line">\#   3 - Full multiuser mode</div><div class="line">\#   4 - unused</div><div class="line">\#   5 - X11</div><div class="line">\#   6 - reboot (Do NOT set initdefault to this)</div><div class="line">\#</div><div class="line">id:5:initdefault:</div><div class="line">~</div></pre></td></tr></table></figure></p>
<p>可以看到Linux系统中默认的系统启动基本一共有7种，分别是：</p>
<h3 id="0：关机-不要设置这个！"><a href="#0：关机-不要设置这个！" class="headerlink" title="0：关机(不要设置这个！)"></a>0：关机(不要设置这个！)</h3><h3 id="1：单用户-类似于windows操作系统的安全模式"><a href="#1：单用户-类似于windows操作系统的安全模式" class="headerlink" title="1：单用户(类似于windows操作系统的安全模式)"></a>1：单用户(类似于windows操作系统的安全模式)</h3><h3 id="2：多用户状态没有网络服务"><a href="#2：多用户状态没有网络服务" class="headerlink" title="2：多用户状态没有网络服务"></a>2：多用户状态没有网络服务</h3><h3 id="3：多用户状态由网络服务-在做开发时，通常设置成这个启动级别，直接进入到命令行的界面"><a href="#3：多用户状态由网络服务-在做开发时，通常设置成这个启动级别，直接进入到命令行的界面" class="headerlink" title="3：多用户状态由网络服务(在做开发时，通常设置成这个启动级别，直接进入到命令行的界面)"></a>3：多用户状态由网络服务(在做开发时，通常设置成这个启动级别，直接进入到命令行的界面)</h3><h3 id="4：系统未使用保留给用户-不要设置这个！"><a href="#4：系统未使用保留给用户-不要设置这个！" class="headerlink" title="4：系统未使用保留给用户(不要设置这个！)"></a>4：系统未使用保留给用户(不要设置这个！)</h3><h3 id="5：图形界面-这是linux默认的启动级别，直接进入图形界面"><a href="#5：图形界面-这是linux默认的启动级别，直接进入图形界面" class="headerlink" title="5：图形界面(这是linux默认的启动级别，直接进入图形界面)"></a>5：图形界面(这是linux默认的启动级别，直接进入图形界面)</h3><h3 id="6：系统重启-不要设置这个！"><a href="#6：系统重启-不要设置这个！" class="headerlink" title="6：系统重启(不要设置这个！)"></a>6：系统重启(不要设置这个！)</h3><p>最后的一行设置系统默认的启动级别,5，也就是图形界面启动<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">id:5:initdefault:</div></pre></td></tr></table></figure></p>
<p>如果需要修改默认级别为开发模式，只需要将5改成3，然后重新启动系统即可<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">将 id:5:initdefault:  改成   id:3:initdefault:</div></pre></td></tr></table></figure></p>
<p><strong> 警告：千万不要将系统基本设置为0,4,6！！！！！！ </strong></p>
<p>如果只是需要在Linux上做开发、部署项目的话，建议一般讲系统启动模式设置为开发模式</p>
<p>System V启动方式，启动服务的脚本放在/etc/rc.d/init.d下，能够在/etc/rc.d目录下看到很多类似 rc0.d或rc2.d这样的目录，这就是为每个不同的运行级别定义启动哪些服务的目录，数字0 2就代表运行级别，进入这些目录，能看到很多链接文件，以S或K开头的这些文件分别表示在当前运行级别下是否开启这个服务，这些文件分别链接到/etc/rc.d/init.d/下面的很多可执行文件。<br><strong> 需要注意，在一些System V启动模式的操作系统上（如RedHat9），除了有/etc/rc.d/init.d/这个目录，还有/etc/init.d/这个目录，其实 ls -l一下就可以看到，/etc/init.d/这个目录本来就是链接到/etc/rc.d/init.d/的一个链接目录 </strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">** 如果有恶意用户将系统启动级别设置成0、4、6，我们该怎么解决这个问题？ **</div><div class="line"></div><div class="line">在linux系统启动界面，我们快速按键盘上的 【e】 按钮，然后进入到了grub引导界面(这个根据Linux的版本可能有不同，我的CentOS6.4是需要在启动时按F2进入引导界面，</div><div class="line">这个可以根据自己安装的Linux系统在开机时的提示进入引导界面)，</div><div class="line">在这个界面中选择第二个选项，然后再按下键盘上的 【e】按钮，在进入修改界面后，在最后输入【 1】(1前面有空格)</div><div class="line">这样，linux系统在启动时就会以 单用户级别 启动起来(为什么这里不将其设置成3或者5，是因为linux系统</div><div class="line">在启动时首先会去检查 /etc/inittab 文件的设定启动级别，如果在这时设置成5或者3，系统还是进不去，只能设置成1)</div><div class="line">在设置好以后，按下键盘的【b】按钮，系统就能重新启动，并进入 单用户级别，这样我们就可以按照之前的方法修改</div><div class="line">linux系统的启动级别。</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;Excert in=&quot;&quot; index=&quot;&quot; |=&quot;&quot; 首页摘要=&quot;&quot;&gt;&lt;br&gt;Linux启动模式System V介绍&lt;/Excert&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
      <category term="Linux" scheme="http://yoursite.com/categories/Linux/"/>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
      <category term="启动模式" scheme="http://yoursite.com/tags/%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="System_V" scheme="http://yoursite.com/tags/System-V/"/>
    
  </entry>
  
  <entry>
    <title>Linux常用目录结构</title>
    <link href="http://yoursite.com/2017/01/17/Linux-Directory/"/>
    <id>http://yoursite.com/2017/01/17/Linux-Directory/</id>
    <published>2017-01-17T13:34:29.000Z</published>
    <updated>2017-01-20T03:05:31.200Z</updated>
    
    <content type="html"><![CDATA[<p><excert in="" index="" |="" 首页摘要=""><br>Linux系统常用目录结构</excert></p>
<ul>
<li><a id="more"></a>
<the rest="" of="" contents="" |="" 余下全文="">

</the></li>
</ul>
<blockquote>
<p>此文引用自51CTO博客，博主<strong>snail_hf</strong>，原文地址<a href="http://ctohf.blog.51cto.com/4059147/907442" target="_blank" rel="external">《Linux系统目录详解（全而易懂）》</a></p>
</blockquote>
<h2 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h2><h3 id=""><a href="#" class="headerlink" title="/"></a>/</h3><p>根目录，处于Linux系统树形结构的最顶端，它是Linux文件系统的入口，所有的目录、文件、设备都在<strong>/</strong>之下。</p>
<h3 id="bin"><a href="#bin" class="headerlink" title="/bin"></a>/bin</h3><p>bin是Binary（二进制）的缩写，存放着Linux系统命令。</p>
<h3 id="dev"><a href="#dev" class="headerlink" title="/dev"></a>/dev</h3><p>dev是Device的缩写。存放的是Linux的外部设备，在Linux中访问设备的方式和访问文件的方式是相同的。<br><strong>（注意：设备文件不是驱动程序。过去，在添加新磁盘或设备后，往往需要手动增加设备文件。现在通常我们不需要手动增加设备文件，运行一下下面的命令，系统就会自动配置相应的设备。）</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">service kudzu start</div></pre></td></tr></table></figure></p>
<h3 id="home"><a href="#home" class="headerlink" title="/home"></a>/home</h3><p>Linux用户的主目录。在Linux系统中，每个用户都有自己的一个目录，一般该目录名是以用户的账号命名的。</p>
<h3 id="lib"><a href="#lib" class="headerlink" title="/lib"></a>/lib</h3><p>存放系统最基本的动态链接共享库，包含许多被/bin和/sbin中的程序使用的库文件，目录/usr/lib/中包含有更多用于用户程序的库文件。作用类似于windows里的dll文件，几乎所有的应用程序都需要用到这些共享库。</p>
<h3 id="media"><a href="#media" class="headerlink" title="/media"></a>/media</h3><p>Linux系统自动识别的一些设备，例如：U盘、光驱、移动硬盘等。Linux会把识别的设备挂载到这个目录下。</p>
<h3 id="mnt"><a href="#mnt" class="headerlink" title="/mnt"></a>/mnt</h3><p>系统提供该目录是为了让用户临时挂载别的文件系统的，可以将光驱挂载到/mnt/上，然后进入该目录就可以查看光驱里的内容。</p>
<h3 id="opt"><a href="#opt" class="headerlink" title="/opt"></a>/opt</h3><p>数据额外安装软件所摆放的目录。默认为空。</p>
<h3 id="root"><a href="#root" class="headerlink" title="/root"></a>/root</h3><p>超级管理员用户的主目录。</p>
<h3 id="selinux"><a href="#selinux" class="headerlink" title="/selinux"></a>/selinux</h3><p>这个目录是RedHat/CentOS所特有的目录，SeLinux是一种安全机制，较复杂。该目录用于存放SeLinux相关的文件。<br><strong> 一般我们在安装操作系统的时候都禁用SeLinux </strong></p>
<h3 id="sys"><a href="#sys" class="headerlink" title="/sys"></a>/sys</h3><p>这个是Linux2.6内核的一个很大的变化。该目录下安装了2.6内核中新出现的文件系统sysfs,sysfs文件系统集成了下面3中文件系统的信息。该文件系统是内核设备树的一个直观反映。当一个内核对象被创建的时候，对应的文件和目录也在内核对象子系统中被创建。</p>
<ol>
<li>针对进程信息的proc文件系统</li>
<li>针对设备的devfs文件系统</li>
<li>针对伪终端的devpts文件系统</li>
</ol>
<h3 id="usr"><a href="#usr" class="headerlink" title="/usr"></a>/usr</h3><p>包括与系统用户直接有关的文件和目录，例如医用程序及支持它们的库文件。类似于windows下的program files目录。</p>
<h3 id="boot"><a href="#boot" class="headerlink" title="/boot"></a>/boot</h3><p>包括内核和其它系统启动期间使用的文件。是启动Linux时使用的核心文件，有链接文件和镜像文件。</p>
<h3 id="etc"><a href="#etc" class="headerlink" title="/etc"></a>/etc</h3><p>存放系统配置文件和目录<strong> （注意：经常使用该目录） </strong></p>
<h3 id="lost-found"><a href="#lost-found" class="headerlink" title="/lost+found"></a>/lost+found</h3><p>默认为空，被FSCK用来放置零散文件（没有名称的文件）。当系统非法关机后，这里就会存放一些文件。</p>
<blockquote>
<p>FSCK(file system check)用来检查和维护不一致的文件系统。若系统掉电或磁盘发生问题，可以利用fsck命令对文件系统进行检查。</p>
</blockquote>
<h3 id="misc"><a href="#misc" class="headerlink" title="/misc"></a>/misc</h3><p>存放杂项文件或目录，即那些用途或含义不明确的文件或目录可以存放在该目录下。</p>
<h3 id="proc"><a href="#proc" class="headerlink" title="/proc"></a>/proc</h3><p>操作系统运行时，进程（正在运行中的程序）信息及内核信息（如：CPU、硬盘分区、内存信息等）存放在这里。/proc目录是伪装的文件系统proc的挂载目录，proc并不是真正的文件系统。因此这个目录是一个虚拟的目录，它是系统内存的映射，我们可以通过直接访问这个目录来获取系统信息。也就是说， <strong> 这个目录的内容不在磁盘上而是在内存里。 </strong></p>
<h3 id="sbin"><a href="#sbin" class="headerlink" title="/sbin"></a>/sbin</h3><p>大多数涉及到系统管理的命令都存放在该目录中，它是超级权限用户root的可执行命令存放地，普通用户无权限执行这个目录下的命令，凡是目录sbin中包含的命令都是root权限才能执行的。</p>
<h3 id="srv"><a href="#srv" class="headerlink" title="/srv"></a>/srv</h3><p>该目录存放一些服务启动之后需要提取的数据。</p>
<h3 id="tmp"><a href="#tmp" class="headerlink" title="/tmp"></a>/tmp</h3><p>该目录用于存放临时文件，有时用户运行程序的时候，会产生一些临时文件。/tmp就是用来存放临时文件的。/var/tmp目录和该目录的作用是相似的。</p>
<h3 id="var"><a href="#var" class="headerlink" title="/var"></a>/var</h3><p>该目录的内容是经常变动的，/var/下有/var/log目录用来存放系统日志的目录。/var/www目录用来定义Apache服务站点存放目录。/var/lib用来存放一些库文件。</p>
<h2 id="其它重要系统目录"><a href="#其它重要系统目录" class="headerlink" title="其它重要系统目录"></a>其它重要系统目录</h2><h3 id="usr-bin"><a href="#usr-bin" class="headerlink" title="/usr/bin"></a>/usr/bin</h3><p>这个目录是可执行程序的目录，普通用户就有权限执行。当我们从系统自带的软件包安装一个程序时，他的可执行文件大多存放在这个目录。相似的目录是/usr/local/bin目录。有时/usr/bin中的文件是/usr/local/bin的链接文件。</p>
<h3 id="usr-sbin"><a href="#usr-sbin" class="headerlink" title="/usr/sbin"></a>/usr/sbin</h3><p>这个目录也是可执行程序的目录，但大多数存放涉及系统管理的命令。只有root权限才能执行，相似的目录是/sbin或/usr/local/sbin或/usr/X11R6/sbin等。</p>
<h3 id="usr-src"><a href="#usr-src" class="headerlink" title="/usr/src"></a>/usr/src</h3><p>内核源码默认的放置目录</p>
<h3 id="proc-cpuinfo"><a href="#proc-cpuinfo" class="headerlink" title="/proc/cpuinfo"></a>/proc/cpuinfo</h3><p>关于处理器的信息，如类型、厂家、型号和性能等。例如可通过下面的命令查看<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cat /proc/cpuinfo</div></pre></td></tr></table></figure></p>
<h3 id="proc-devices"><a href="#proc-devices" class="headerlink" title="/proc/devices"></a>/proc/devices</h3><p>当前运行内核所配置的所有设备清单</p>
<h3 id="proc-filesystems"><a href="#proc-filesystems" class="headerlink" title="/proc/filesystems"></a>/proc/filesystems</h3><p>当前运行内核所配置的文件系统</p>
<h3 id="proc-dma"><a href="#proc-dma" class="headerlink" title="/proc/dma"></a>/proc/dma</h3><p>当前正在使用的DMA通道。</p>
<blockquote>
<p>DMA（Direct Memory Access），即直接存储器存取，是一种快速传送数据的机制。数据传递可以从适配卡到内存，从内存到适配卡或从一段内存到另一段内存。</p>
</blockquote>
<h3 id="proc-interrupts"><a href="#proc-interrupts" class="headerlink" title="/proc/interrupts"></a>/proc/interrupts</h3><p>正在使用的中断和曾经有多少个中断</p>
<h3 id="proc-ioports"><a href="#proc-ioports" class="headerlink" title="/proc/ioports"></a>/proc/ioports</h3><p>当前正在使用的I/O端口</p>
<h3 id="etc-init-d"><a href="#etc-init-d" class="headerlink" title="/etc/init.d"></a>/etc/init.d</h3><p>这个目录是用来存放系统或服务器以System V模式启动的脚本，这在以System V模式启动或初始化的系统中常见。比如RedHat Fedora</p>
<h3 id="etc-xinetd-d"><a href="#etc-xinetd-d" class="headerlink" title="/etc/xinetd.d"></a>/etc/xinetd.d</h3><p>如果服务器是通过xinetd模式运行的，它的脚本要放在这个目录下。有些系统没有这个目录，比如Slackware,有些老的版本也没有。在RedHat Fedora中比较新的版本中存在。</p>
<h3 id="etc-rc-d"><a href="#etc-rc-d" class="headerlink" title="/etc/rc.d"></a>/etc/rc.d</h3><p>这个是Slackware发行版中的一个目录，是BSD方式启动脚本的存放地，比如定义网卡，服务器开启脚本等。</p>
<h3 id="etc-Xll"><a href="#etc-Xll" class="headerlink" title="/etc/Xll"></a>/etc/Xll</h3><p>是X-Window相关的配置文件存放地</p>
<h3 id="usr-local"><a href="#usr-local" class="headerlink" title="/usr/local"></a>/usr/local</h3><p>这个目录一般是用来存放用户自编译安装软件的存放目录。一般是通过源码包安装的软件，如果没有特别指定安装目录的话，一般是安装在这个目录中。</p>
<h3 id="usr-lib"><a href="#usr-lib" class="headerlink" title="/usr/lib"></a>/usr/lib</h3><p>该目录和/lib目录相似，是库文件的存储目录。存放一些常用的共享库。</p>
<h3 id="usr-share"><a href="#usr-share" class="headerlink" title="/usr/share"></a>/usr/share</h3><p>该目录用于存放系统共用的东西，比如/usr/share/fonts是字体目录，是用户都共用的。</p>
<h3 id="usr-share-doc"><a href="#usr-share-doc" class="headerlink" title="/usr/share/doc"></a>/usr/share/doc</h3><p>该目录是Linux共享文档的存放地。</p>
<h3 id="usr-share-man"><a href="#usr-share-man" class="headerlink" title="/usr/share/man"></a>/usr/share/man</h3><p>该目录是共享的帮助文件的存放地。</p>
<h3 id="var-adm"><a href="#var-adm" class="headerlink" title="/var/adm"></a>/var/adm</h3><p>比如软件包安装信息、日志、管理信息等就存放在该目录下，在Slackware操作系统中是有这个目录的。在Fedora中好象没有。</p>
<h3 id="var-log"><a href="#var-log" class="headerlink" title="/var/log"></a>/var/log</h3><p>该目录用于存放系统日志。</p>
<h3 id="var-spool"><a href="#var-spool" class="headerlink" title="/var/spool"></a>/var/spool</h3><p>打印机、邮件、代理服务器等假脱机目录存放在该目录下。</p>
<blockquote>
<p>本文出自 “蜗牛” 博客，请务必保留此出处<a href="http://ctohf.blog.51cto.com/4059147/907442" target="_blank" rel="external">http://ctohf.blog.51cto.com/4059147/907442</a></p>
</blockquote>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;Excert in=&quot;&quot; index=&quot;&quot; |=&quot;&quot; 首页摘要=&quot;&quot;&gt;&lt;br&gt;Linux系统常用目录结构&lt;/Excert&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
      <category term="Linux" scheme="http://yoursite.com/categories/Linux/"/>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>CentOS_SunJDK</title>
    <link href="http://yoursite.com/2017/01/16/CentOSSunJDK/"/>
    <id>http://yoursite.com/2017/01/16/CentOSSunJDK/</id>
    <published>2017-01-16T13:37:16.000Z</published>
    <updated>2017-01-17T13:26:24.475Z</updated>
    
    <content type="html"><![CDATA[<p><excert in="" index="" |="" 首页摘要=""><br>CentOS7卸载OpenJDK并安装SunJDK</excert></p>
<ul>
<li><a id="more"></a>
<the rest="" of="" contents="" |="" 余下全文=""><h2 id="安装说明"><a href="#安装说明" class="headerlink" title="安装说明"></a>安装说明</h2></the></li>
</ul>
<ul>
<li>系统环境： CentOS 7</li>
<li>安装方式： rmp安装</li>
<li>软件： jdk-8u111-linux-x64.rpm</li>
<li>下载地址： <a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html" target="_blank" rel="external">Oracle JDK 官网下载地址</a><h2 id="卸载CentOS默认安装的OpenJDK"><a href="#卸载CentOS默认安装的OpenJDK" class="headerlink" title="卸载CentOS默认安装的OpenJDK"></a>卸载CentOS默认安装的OpenJDK</h2><h3 id="检查CentOS7默认安装版本"><a href="#检查CentOS7默认安装版本" class="headerlink" title="检查CentOS7默认安装版本"></a>检查CentOS7默认安装版本</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]# java -version</div><div class="line">java version &quot;1.7.0_45&quot;</div><div class="line">OpenJDK Runtime Environment (rhel-2.4.3.3.el6-x86_64 u45-b15)</div><div class="line">OpenJDK 64-Bit Server VM (build 24.45-b08, mixed mode)</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="查看JDK安装的rpm信息"><a href="#查看JDK安装的rpm信息" class="headerlink" title="查看JDK安装的rpm信息"></a>查看JDK安装的rpm信息</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]# rpm -qa |  grep java</div><div class="line">java-1.7.0-openjdk-1.7.0.45-2.4.3.3.el6.x86_64</div><div class="line">tzdata-java-2013g-1.el6.noarch</div><div class="line">java-1.6.0-openjdk-1.6.0.0-1.66.1.13.0.el6.x86_64</div></pre></td></tr></table></figure>
<h3 id="卸载找出的已安装Java相关rpm文件"><a href="#卸载找出的已安装Java相关rpm文件" class="headerlink" title="卸载找出的已安装Java相关rpm文件"></a>卸载找出的已安装Java相关rpm文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]# rpm -e --nodeps java-1.7.0-openjdk-1.7.0.45-2.4.3.3.el6.x86_64</div><div class="line">[root@localhost ~]# rpm -e --nodeps tzdata-java-2013g-1.el6.noarch</div><div class="line">[root@localhost ~]# rpm -e --nodeps java-1.6.0-openjdk-1.6.0.0-1.66.1.13.0.el6.x86_64</div></pre></td></tr></table></figure>
<h2 id="安装SunJDK"><a href="#安装SunJDK" class="headerlink" title="安装SunJDK"></a>安装SunJDK</h2><h3 id="下载SunJDK的rpm安装文件"><a href="#下载SunJDK的rpm安装文件" class="headerlink" title="下载SunJDK的rpm安装文件"></a>下载SunJDK的rpm安装文件</h3><p>例如：我放到目录/usr/local/，然后使用rpm命令安装<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]# rpm -ivh jdk-8u111-linux-x64.rpm</div></pre></td></tr></table></figure></p>
<p>jdk默认安装路径为：/usr/java/</p>
<h3 id="验证是否正确安装"><a href="#验证是否正确安装" class="headerlink" title="验证是否正确安装"></a>验证是否正确安装</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]# java -version</div><div class="line">java version &quot;1.8.0_111&quot;</div><div class="line">Java(TM) SE Runtime Environment (build 1.8.0_111-b14)</div><div class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.111-b14, mixed mode)</div></pre></td></tr></table></figure>
<h2 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h2><h3 id="打开环境变量存储文件"><a href="#打开环境变量存储文件" class="headerlink" title="打开环境变量存储文件"></a>打开环境变量存储文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]# vi /etc/profile</div></pre></td></tr></table></figure>
<h3 id="在文件末尾追加以下内容"><a href="#在文件末尾追加以下内容" class="headerlink" title="在文件末尾追加以下内容"></a>在文件末尾追加以下内容</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"># SunJDK 1.8</div><div class="line">JAVA_HOME=/usr/java/jdk1.8.0_111</div><div class="line">JRE_HOME=/usr/java/jdk1.8.0_111/jre</div><div class="line">PATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin</div><div class="line">CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar:$JRE_HOME/lib</div><div class="line">export JAVA_HOME JRE_HOME PATH CLASSPATH</div></pre></td></tr></table></figure>
<h3 id="使修改的环境变量起作用"><a href="#使修改的环境变量起作用" class="headerlink" title="使修改的环境变量起作用"></a>使修改的环境变量起作用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]# source /etc/profile</div></pre></td></tr></table></figure>
<h3 id="检查系统环境变量PATH的值"><a href="#检查系统环境变量PATH的值" class="headerlink" title="检查系统环境变量PATH的值"></a>检查系统环境变量PATH的值</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]# echo $PATH</div><div class="line">/usr/local/cmake/bin:/usr/lib64/qt-3.3/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/usr/java/jdk1.8.0_111/bin:/usr/java/jdk1.8.0_111/jre/bin:/root/bin</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;Excert in=&quot;&quot; index=&quot;&quot; |=&quot;&quot; 首页摘要=&quot;&quot;&gt;&lt;br&gt;CentOS7卸载OpenJDK并安装SunJDK&lt;/Excert&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
      <category term="Linux" scheme="http://yoursite.com/categories/Linux/"/>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
      <category term="CentOS7" scheme="http://yoursite.com/tags/CentOS7/"/>
    
      <category term="Java" scheme="http://yoursite.com/tags/Java/"/>
    
      <category term="jdk" scheme="http://yoursite.com/tags/jdk/"/>
    
  </entry>
  
  <entry>
    <title>为啥要整博客这玩意了呢？</title>
    <link href="http://yoursite.com/2017/01/15/WhyWriteBlog/"/>
    <id>http://yoursite.com/2017/01/15/WhyWriteBlog/</id>
    <published>2017-01-15T03:34:00.000Z</published>
    <updated>2017-01-15T04:59:16.496Z</updated>
    
    <content type="html"><![CDATA[<p><excert in="" index="" |="" 主页摘要=""></excert></p>
<blockquote>
<p>为嘛呢？这是为嘛呢？琢磨琢磨！</p>
<ul>
<li><a id="more"></a>
<the rest="" of="" contents="" |="" 余下全文=""><br>这里引用一篇文章 <a href="https://zhuanlan.zhihu.com/p/19743861?columnSlug=cnfeat" title="为什么你要写博客" target="_blank" rel="external">《为什么你要写博客》</a></the></li>
</ul>
</blockquote>
<h3 id="也就是这么点爱好了，没事喜欢找点新鲜东西来折腾折腾，Hexo-GitHub不错的样子，想玩。"><a href="#也就是这么点爱好了，没事喜欢找点新鲜东西来折腾折腾，Hexo-GitHub不错的样子，想玩。" class="headerlink" title="也就是这么点爱好了，没事喜欢找点新鲜东西来折腾折腾，Hexo+GitHub不错的样子，想玩。"></a>也就是这么点爱好了，没事喜欢找点新鲜东西来折腾折腾，Hexo+GitHub不错的样子，想玩。</h3><h3 id="我嘛，开始在玩Linux，帮同学处理了点问题，发现有必要把整理在笔记中的东西拿出来共享一下了。"><a href="#我嘛，开始在玩Linux，帮同学处理了点问题，发现有必要把整理在笔记中的东西拿出来共享一下了。" class="headerlink" title="我嘛，开始在玩Linux，帮同学处理了点问题，发现有必要把整理在笔记中的东西拿出来共享一下了。"></a>我嘛，开始在玩Linux，帮同学处理了点问题，发现有必要把整理在笔记中的东西拿出来共享一下了。</h3><h3 id="而且以后再看自己的笔记就不用安装笔记APP了，有个浏览器就搞定了噻！"><a href="#而且以后再看自己的笔记就不用安装笔记APP了，有个浏览器就搞定了噻！" class="headerlink" title="而且以后再看自己的笔记就不用安装笔记APP了，有个浏览器就搞定了噻！"></a>而且以后再看自己的笔记就不用安装笔记APP了，有个浏览器就搞定了噻！</h3><h3 id="还有还有就是一直对MarkDown感兴趣，但是找不到可以练习的场景，这里也可以顺便学着用了嘛！"><a href="#还有还有就是一直对MarkDown感兴趣，但是找不到可以练习的场景，这里也可以顺便学着用了嘛！" class="headerlink" title="还有还有就是一直对MarkDown感兴趣，但是找不到可以练习的场景，这里也可以顺便学着用了嘛！"></a>还有还有就是一直对MarkDown感兴趣，但是找不到可以练习的场景，这里也可以顺便学着用了嘛！</h3><blockquote>
<p>再有嘛，也是终极目的，就是……( ͡° ͜ʖ ͡°)</p>
</blockquote>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;Excert in=&quot;&quot; index=&quot;&quot; |=&quot;&quot; 主页摘要=&quot;&quot;&gt;&lt;/Excert&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;为嘛呢？这是为嘛呢？琢磨琢磨！&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/blockquote&gt;
    
    </summary>
    
      <category term="other" scheme="http://yoursite.com/categories/other/"/>
    
    
      <category term="开始" scheme="http://yoursite.com/tags/%E5%BC%80%E5%A7%8B/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://yoursite.com/2017/01/13/hello-world/"/>
    <id>http://yoursite.com/2017/01/13/hello-world/</id>
    <published>2017-01-13T12:23:49.978Z</published>
    <updated>2017-01-15T03:52:41.481Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>. </p>
<ul>
<li><a id="more"></a>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2></li>
</ul>
<h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot;&gt;documentation&lt;/a&gt; for more info. If you get any problems when using Hexo, you can find the answer in &lt;a href=&quot;https://hexo.io/docs/troubleshooting.html&quot;&gt;troubleshooting&lt;/a&gt; or you can ask me on &lt;a href=&quot;https://github.com/hexojs/hexo/issues&quot;&gt;GitHub&lt;/a&gt;. &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
    
  </entry>
  
</feed>
